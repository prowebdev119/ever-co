<div class="row">
	<div class="col-12">
		<div class="row">
			<div class="col-8">
				<nb-card>
					<nb-card-header>
						{{
							'CARRIERS_VIEW.TRACK_PAGE.TRACK_ALL_WORKING_CARRIERS'
								| translate
						}}
					</nb-card-header>
					<nb-card-body>
						<div #gmap class="googleMap"></div>
					</nb-card-body>
				</nb-card>
			</div>

			<div class="col-4">
				<nb-card>
					<nb-card-header>
						{{
							'CARRIERS_VIEW.TRACK_PAGE.FILTER_CARRIERS'
								| translate
						}}
					</nb-card-header>
					<nb-card-body style="overflow: inherit;">
						<div>
							<ng-select
								[items]="stores"
								placeholder="{{
									'DASHBOARD_VIEW.SELECT_COMPONENT.SELECT_STORE'
										| translate
								}}"
								[clearable]="false"
								bindLabel="id"
								style="width: 100%; margin-bottom: 30px;"
								(change)="storeListener($event)"
								[(ngModel)]="selectedStore"
							>
								<ng-template ng-label-tmp let-item="item">
									<img
										*ngIf="item.logo"
										height="15"
										width="15"
										class="mr-2"
										[src]="item.logo"
									/>
									<b>{{ item.name }}</b>
								</ng-template>
								<ng-template
									ng-option-tmp
									let-item="item"
									let-index="index"
								>
									<p class="card-title">
										<img
											*ngIf="item.logo"
											height="40"
											width="40"
											class="mr-1"
											[src]="item.logo"
										/>
										{{ item.name }}
									</p>
								</ng-template>
							</ng-select>
							<ng-select
								(change)="carrierListener($event)"
								[items]="filteredCarriersList"
								[(ngModel)]="selectedCarrier"
								[clearable]="false"
								placeholder="{{
									'CARRIERS_VIEW.CARRIER_PAGE.SELECT_CARRIER'
										| translate
								}}"
								bindLabel="fullName"
								style="width: 100%; margin-bottom: 30px;"
							>
								<ng-template ng-label-tmp let-item="item">
									<img
										*ngIf="item.logo"
										height="15"
										width="15"
										class="mr-2"
										[src]="item.logo"
									/>
									{{ item.fullName }}
								</ng-template>
								<ng-template
									ng-option-tmp
									let-item="item"
									let-index="index"
								>
									<p class="card-title">
										<img
											*ngIf="item.logo"
											height="40"
											width="40"
											class="mr-1"
											[src]="item.logo"
										/>
										{{ item.fullName }}
									</p>
								</ng-template>
							</ng-select>
						</div>
						<nb-card-footer>
							<div class="details">
								<div class="warehouse" *ngIf="selectedStore">
									<h6>
										<b>{{ selectedStore.name }}</b>
									</h6>
									<ul>
										<li>
											{{
												'CARRIERS_VIEW.TRACK_PAGE.PHONE'
													| translate
											}}:
											{{ selectedStore.contactPhone }}
										</li>
										<li>
											{{
												'CARRIERS_VIEW.TRACK_PAGE.EMAIL'
													| translate
											}}:
											{{ selectedStore.contactEmail }}
										</li>
										<li>
											{{
												'CARRIERS_VIEW.TRACK_PAGE.ADDRESS'
													| translate
											}}:
											{{
												selectedStore.geoLocation
													.streetAddress
											}}
										</li>
									</ul>
								</div>
								<div class="carrier" *ngIf="selectedCarrier">
									<h6>
										<b>{{ selectedCarrier.fullName }}</b>
									</h6>
									<ul>
										<li>
											{{
												'CARRIERS_VIEW.TRACK_PAGE.DELIVERY_COUNT'
													| translate
											}}:
											{{
												selectedCarrier.numberOfDeliveries
											}}
										</li>
										<li>
											{{
												'CARRIERS_VIEW.TRACK_PAGE.PHONE'
													| translate
											}}: {{ selectedCarrier.phone }}
										</li>
										<li>
											{{
												'CARRIERS_VIEW.TRACK_PAGE.ADDRESS'
													| translate
											}}:
											{{
												selectedCarrier.geoLocation
													.streetAddress
											}}
										</li>
									</ul>
								</div>
							</div>
						</nb-card-footer>
					</nb-card-body>
				</nb-card>
			</div>
		</div>
	</div>
</div>
